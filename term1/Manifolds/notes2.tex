\documentclass[11pt]{article}

%{{{ Packages
\usepackage[margin=1in]{geometry}
\usepackage{enumitem}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{centernot}
\usepackage{amsthm}
\usepackage{mathdots}
\usepackage{mathtools}
\usepackage[dvipsnames]{xcolor}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage{microtype}
\usepackage{witharrows}
\usepackage{silence}
\usepackage{tikz-cd}
\usepackage{float}
\usepackage{faktor}
\WarningFilter{mdframed}{You got a bad break}
%}}}
%{{{ Custom commands
% p-forms
\DeclareFontFamily{U}{skulls}{}
\DeclareFontShape{U}{skulls}{m}{n}{ <-> skull }{}
\newcommand{\skull}{\text{\usefont{U}{skulls}{m}{n}\symbol{'101}}}

% Nice maths commands
\newcommand{\defeq}{:=}
\newcommand{\eqdef}{=:}
\newcommand{\abs}[1]{|#1|}
\newcommand{\norm}[1]{||#1||}
%\renewcommand{\dots}{...}
\newcommand{\msrspc}{\ensuremath{(X,\mathcal{B},\mu)}}
\DeclareMathOperator{\supp}{\textrm{supp}}
\DeclareMathOperator{\vol}{\textrm{vol}}
\newcommand{\homrel}{\stackrel{\partial}{\simeq}}
\newcommand{\homrelset}[1]{\stackrel{#1}{\simeq}}
\newcommand\restr[2]{{% we make the whole thing an ordinary symbol
  \left.\kern-\nulldelimiterspace % automatically resize the bar with \right
  #1 % the function
  \vphantom{\big|} % pretend it's a little taller at normal size
  \right|_{#2} % this is the delimiter
  }}
\newcommand{\relmiddle}[1]{\mathrel{}\middle#1\mathrel{}}
\newcommand{\rmv}{\relmiddle|}

% Custom operators
\makeatletter
\DeclareRobustCommand\bigop[1]{%
  \mathop{\vphantom{\sum}\mathpalette\bigop@{#1}}\slimits@
}
\newcommand{\bigop@}[2]{%
  \vcenter{%
    \sbox\z@{$#1\sum$}%
    \hbox{\resizebox{\ifx#1\displaystyle.9\fi\dimexpr\ht\z@+\dp\z@}{!}{$\m@th#2$}}%
  }%
}
\makeatother
\newcommand{\bigast}{\DOTSB\bigop{\ast}}

% Spaces
\newcommand{\ktor}{\mathbb{T}^k}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\RP}{\mathbb{R}\mathbb{P}}
\newcommand{\Lp}{\Lambda^p}

% Derivatives
\newcommand*{\pd}[3][]{\ensuremath{\frac{\partial^{#1} {#2}}{\partial {#3}^{#1}}}}
\newcommand{\grad}{\bigtriangledown}

% Vectors
\newcommand{\mv}[1]{\textbf{#1}}

%}}}
%{{{ Enviornments
% Definitions environment
\newenvironment{defin}
	{\begin{mdframed}[backgroundcolor=white, roundcorner=5pt, linewidth=1pt]
		\setlength{\parindent}{0pt}
		}
	{\end{mdframed}}
\newcommand{\mdf}[1]{{\color{red} #1}}

% Important notes environment
\newenvironment{note}
	{\begin{mdframed}[backgroundcolor=white, linecolor=red, roundcorner=5pt, linewidth=1pt]\bfseries{Note:}\normalfont}
	{\end{mdframed}}

% Examples enviornmnet
\definecolor{mylg}{rgb}{0.9,0.9,0.9}
\newenvironment{eg}
{\begin{mdframed}[backgroundcolor=mylg,roundcorner=5pt,linewidth=0pt]\setlength{\parindent}{0pt}\bfseries{Example:}\normalfont}
	{\end{mdframed}}

% Theorem enviornment
\newtheorem{theorem}{Theorem}[section]
\newtheorem{prop}[theorem]{Proposition}
\newtheorem{cor}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
%}}}
%{{{ Document metadata
\title{Manifolds Notes}
\author{}
\date{}
%}}}

\begin{document}
\maketitle

\section{Differential Forms}
\begin{defin}
Given vector spaces $E, F$ and $p\in \N$ we denoted
\[
	A(E^p, F)\defeq p-\text{linear alternating maps }E^p\to F
\]
where by alternating we mean that swapping any two coordinates negates the output.
Equivalently, if two coordinates are the same then the output is $0$.
\end{defin}

\begin{lemma}
Given $E$ and $p$ there is a vector space $V$ together with a surjective map $\mu\in A(E^p, V)$ with the property that if $\theta\in A(E^p, F)$ then there is a linear map $\hat{\theta}:V\to F$ such that $\theta = \hat{\theta}\circ\mu$
\end{lemma}

\begin{figure}[H]
	\centering
	\begin{tikzcd}
		\; & V \arrow[rd, "\hat{\theta}", dashed] & \; \\
		E^p \arrow[ru, "\mu", two heads] \arrow[rr, "\theta"']& \; & F
	\end{tikzcd}
\end{figure}

\begin{note}
	The $\hat{\theta}$ is unique given $\theta$ and $V$.
	The $V$ is unique up to isomorphism.
\end{note}

\begin{defin}
We write $V = \Lambda^p E$ and given $v_1, \dots , v_p\in E$ we write
\[
	v_1 \wedge \dots \wedge v_p \defeq \mu(v_1, \dots ,v_p)
\]
We say $\Lambda^p E$ is the \mdf{$p$-th exterior power of $E$}.
\end{defin}

\subsection{Basis for $\Lambda^p E$}
Let $e_1, \dots , e_m$ be a basis for $E$.
Since $\mu$ is surjective $\Lambda^p E$ is spanned by
\[
	\left\{ e_{i_1} \wedge \dots \wedge e_{i_p} \rmv i_k\in I(m) \right\}
\]
where we can assume that the $i_k$ are distinct else their image would be null.
We can also assume that the indices are in order up to sign.

\begin{lemma}
These elements are linearly independent and hence form a basis.
\end{lemma}

Therefore we can say $\dim(\Lambda^p E) = \binom{m}{p}$.

\subsection{Wedge Product}
Given $p, q\in\N$ with $p, q \geq 1$ we can define the bilinear wedge product
\[
	\cdot \wedge \cdot : (\Lambda^p E \times \Lambda^q E) \to \Lambda^{p+q}E
\]
First we define on it on a basis.
So take a basis $e_1, \dots , e_m$ of $E$ and then define
\[
	(e_{i_1} \wedge \dots \wedge e_{i_p}) \wedge (e_{j_1} \wedge \dots \wedge e_{j_q}) = e_{i_1} \wedge \dots \wedge e_{i_p} \wedge e_{j_1} \wedge \dots \wedge e_{j_q}
\]
This can then be extended linearly to arbitrary elements and hence doesn't depend on our initial choice of basis.

\subsection{Induced maps}
Suppose we have a linear map between finite dimensional vector spaces
\[
\phi : E \to F
\]
then we get a multi linear map in the natural way
\[
\phi^p : E^p \to F^p
\]
By composing with the surjective map $\mu_F$ we get an alternating map
\[
\mu_F \circ \phi^p : E^p \to \Lambda^p F
\]
Hence by the defining property of $\Lambda^P E$ we get a linear map
\[
\Lambda^p \phi : \Lambda^p E \to \Lambda^p F
\]
with the property that the outer diamond in the below diagram commutes.

\begin{figure}[H]
	\centering
	\begin{tikzcd}
		\; & \Lambda^p E \arrow[rd, dashed, "\Lambda^p \phi"] & \; \\
		E^p \arrow[rr, "\mu_f \circ \phi^p"'] \arrow[rd, "\phi^p"'] \arrow[ru, "\mu_E"] & \; & \Lambda^p F \\
		\; & F^p \arrow[ru, "\mu_F"'] & \;
	\end{tikzcd}
\end{figure}

Essentially, if $e_1, \dots , e_m$ is a basis for $E$, then we can describe $\Lambda^p\phi$ by
\[
	(\Lambda^p\phi)( e_{i_1}\wedge \dots \wedge e_{i_p}) = (\phi e_{i_1}) \wedge \dots \wedge (\phi e_{i_p}).
\]

\subsection{$\skull$ The dreaded p-form $\skull$}

\begin{defin}
Let $M$ be an $m$-manifold.
Given $x\in M$ we can form the $p$-th exterior power of the cotangent space
\[
	\Lambda^p (T_x^\ast M)
\]
We can assemble these together into a vector bundle $\Lambda^p(T^\ast M)$.
Subsequently, a \mdf{$p$-form} on $M$ is define to be a section of the bundle $\Lambda^p(T^\ast M)$	
\end{defin}

\noindent\textbf{What the fuck does this mean???}

A more natural way to think about $p$-forms is to take local coordinates.
Let $\phi: U \to \R^m$ be a chart yielding local coordinates $x_1, \dots , x_m$.
We have locally defined $1$-forms $dx_1, \dots , dx_m$ which form a basis for the cotangent space
\[
	dx_i\left(\pd{}{x_j}\right)=\delta_{ij}
\]
Then given $I\in\mathcal{I}(m, p)$ we write $\mv{d}x_I\defeq d{x_{i_1}} \wedge \dots \wedge d{x_{i_p}}$.
Thus $\left\{ \mv{d}x_I \rmv I \in\mathcal{I}(m, p)\right\}$ forms a basis for $\Lambda^P(T^\ast M)$.
It follows that any $p$-form $\omega$ on $U$ can be uniquely written in the form
\[
	\omega = \sum_{I\in\mathcal{I}(m,p)}\lambda_I\mv{d}x_I
\]
where each $\lambda_I:U \to \R$ is a locally-defined smooth function.
\begin{note}
	This is all we really need from the bundle structure of $\Lambda^p(T^\ast M)$.
\end{note}

In particular, if $p=m$ then an $m$-form locally looks like
\[
	\lambda \; (dx_1 \wedge \dots \wedge dx_m)
\]
for some smooth function $\lambda: U \to \R$.

\subsection{Pull-backs}
Suppose we have a smooth function between manifolds
\[
f:M \to N
\]
Given a $p$-form $\omega$ on $N$ we can define a \mdf{pull-back $p$-form $f^\ast\omega$} on $M$ as follows. 
Given $x\in M$ we have the derivative map $d_xf$ and hence a dual map
\[
	(d_x f)^\ast : T^\ast_{f(x)}N \to T^\ast_x M , \quad \quad \eta \mapsto \eta \circ d_xf \quad \text{where }\eta:T_{f(x)}N \to \R\text{ is linear}
\]
This in turn gives rise to a linear map
\[
	\Lp(d_x\phi)^\ast : \Lambda^pT_{fx}^\ast N \to \Lp T_x^\ast M
\]
Then our pull-back is defined by
\[
	(f^\ast\omega)(x) \defeq (\Lp(d_x\phi)^\ast)\left[\omega(f(x))\right]
\]
One takes on blind faith that this is smooth and hence a $p$-form.
In particular, we can pull back $p$-forms to any manifold embedded within a larger manifold (such as $\R^n$).
This is a load of gobbledygook so let's go step by step.
\begin{enumerate}
	\item $x\in M$
	\item $f(x)\in N$
	\item $\omega$ is a $p$-form on $N$ so we get some linear maps $\eta_i:T_{fx}N\to\R$, then
		\[
			\omega(f(x))=\eta_1 \wedge \dots \wedge \eta_p
		\]
	\item Then we take the induced $p$'th exterior power map which just does $(d_x\phi)^\ast$ on each of the $\eta_i$
	\item Hence we can write
		\[
			(f^\ast\omega)(x) = (\eta_1 \circ d_xf) \wedge \dots \wedge (\eta_p \circ d_xf)
		\]
\end{enumerate}

\begin{eg}
	\begin{enumerate}
		\item Consider $S^1$; the unit circle in $\R^2$.
			Let $\theta$ by the angle coordinate so that $x=\cos\theta$ and $y=\sin\theta$.
			Then the pull back of $dx$, $dy$ is obtained by differentiating these formulae:
			\[
				-\sin\theta d\theta \quad\text{and}\quad cos\theta d\theta
			\]
			From this we can pull back an arbitrary 1-form by linear extension.
		\item Consider $S^2$; the unit 2-sphere in $\R^3$.
			Consider spherical polar coordinates $\theta, \phi$ away from the poles.
			\begin{align*}
				x &= \sin\theta\cos\phi \\
				y &= \sin\theta\sin\phi \\
				z &= \cos\theta
			\end{align*}
			Then the pull backs of $dx$, $dy$ and $dz$ repressively are
			\begin{align*}
				&\cos\theta\cos\phi d\theta - \sin\theta\sin\phi d\phi\\
				&\cos\theta\sin\phi d\theta + \sin\theta\cos\phi d\phi \\
				& -\sin\theta d\theta
			\end{align*}
			One can see this by writing out the Jacobian and then composing on the left with $dx$ which is $(0 , 0, 1)$ and remembering that $d\theta=\binom{1}{0}$ and $d\phi=\binom{0}{1}$.

			So then the pull back of $dx \wedge dy = (\cos\theta\sin\theta)(d\theta \wedge d\phi)$.
			We can see this by writing out the full expression, using multi linearity and alternating-ness of the wedge product and then trigonometric identities.
	\end{enumerate}
\end{eg}

\subsection{Integration of m-forms}
Take an atlas $\left\{ \phi_\alpha: U_\alpha \to V_\alpha\right\}_{\alpha\in\mathcal{A}}$.
Given $\alpha, \beta\in\mathcal{A}$, then on the overlap $U_\alpha \cap U_\beta$ we get
\[
	d{x_1}^\alpha \wedge \dots \wedge d{x_m}^\alpha = \Delta_{\alpha\beta}(x) d{x_1}^\beta \wedge \dots \wedge d{x_m}^\beta
\]
where $\Delta_{\alpha\beta}$ is the determinant of the Jacobian of the transition function $\phi_\alpha \circ \phi_\beta^{-1}$.
Note if our atlas is oriented then $\Delta_{\alpha\beta}(x) > 0$.
Hence we have the following result.

\begin{theorem}
An $m$-manifold is orientable if and only if it admits a nowhere vanishing $m$-form.
\end{theorem}

\begin{proof}
Worth looking over.
\end{proof}

\begin{defin}
Let $M$ be an oriented manifold.
Given an $m$-form $\omega$ on $M$ we define
\[
\mdf{\supp(\omega)}\defeq\overline{\left\{ x\in M \rmv \omega(x) \neq 0\right\}}
\]
We say that a cover $\left\{ U_\alpha\right\}$ of a Hausdorff space $X$ is \mdf{locally finite} if
\[
	\forall x \in X \quad \exists O\subseteq X\text{ open, s.t. }x\in O \; \text{ and } \; \left|\left\{ \alpha \rmv O\cap U_\alpha\neq\emptyset\right\}\right|< \infty
\]
that is around every point there is an open set which meets at most finitely many members of the cover.
\end{defin}

For now, suppose that $\supp(\omega)$ is compact.
Let $\left\{ \phi_\alpha: U_\alpha \to V_\alpha\right\}_{\alpha\in\mathcal{A}}$ be a locally finite, oriented atlas.
Suppose that $\eta$ is an n-form such that $\supp(\eta)\subseteq U_\alpha$ for some $\alpha\in\mathcal{A}$.
Then write in local coordinates $\eta = \lambda_\alpha(dx_1^\alpha \wedge \dots \wedge dx_m^\alpha)$ where $\lambda_\alpha:U_\alpha\to\R$ is smooth and compactly supported.
Then we set
\[
	I_\alpha(\eta)\defeq \int_{V_\alpha} \lambda_\alpha \circ \phi_\alpha^{-1}(x) \; dx
\]

\begin{defin}
	A \mdf{partition of unity subordinate to} $\left\{ U_\alpha\right\}$ is a collection of smooth functions $\left\{ \rho_\alpha: M \to [0, 1]\right\}$ such that
	\begin{enumerate}
		\item $\supp(\rho_\alpha)\subseteq U_\alpha$ for all $\alpha$,
		\item $\sum_{\alpha}\rho_\alpha(x)=1$ for all $x\in M$.
	\end{enumerate}
\end{defin}

So choose a partition of unity $\left\{ \rho_\alpha\right\}$ subordinate to $\left\{ U_\alpha\right\}$ and set
\[
	\mdf{\int_M \omega} \defeq \sum_{\alpha\in\mathcal{A}} I_\alpha(\rho_\alpha \omega)
\]
\begin{note}
	This is a finite sum because only finitely many $U_\alpha$ meet the support of $\omega$.
\end{note}

\begin{lemma}
This integral is well-defined.
That is, its independent of choice of atlas and partition.
\end{lemma}

Using this we can define the volume of a compact, orientable Riemannian manifold.
Choose any orientation and let $\omega$ be the volume form (that is any $m$-form, I think).
Then the volume is
\[
	\vol(M)\defeq\int_M \omega
\]
In fact, if $f:M \to \R$ is any smooth function then we can integrate $f$ with respect to volume.
That is, integrate the $m$-form $f\omega$.
The result $\int_m f\omega$ is often denoted informally as $\int_M f \; dV$.
We shouldn't use this notation because exterior derivatives will confuse things.

\end{document}
